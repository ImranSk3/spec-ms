[
  {
    "name": "addProcessorGroup",
    "object": {
      "revision": {
        "clientId": "",
        "version": 0
      },
      "disconnectedNodeAcknowledged": "false",
      "component": {
        "name": "#{processor_group_name}",
        "position": {
          "x": "#{x}",
          "y": "#{y}"
        }
      }
    }
  },
  {
    "name": "addProcessor",
    "object": {
      "revision": {
        "clientId": "",
        "version": 0
      },
      "disconnectedNodeAcknowledged": "false",
      "component": {
        "type": "#{processor_name}",
        "bundle": {
          "group": "org.apache.nifi",
          "artifact": "nifi-standard-nar",
          "version": "1.12.1"
        },
        "name": "#{name}",
        "position": {
          "x": "#{x}",
          "y": "#{y}"
        }
      }
    }
  },
  {
    "name": "connect",
    "object": {
      "revision": {
        "clientId": "",
        "version": 0
      },
      "disconnectedNodeAcknowledged": "false",
      "component": {
        "name": "",
        "source": {
          "id": "#{sourceId}",
          "groupId": "#{groupId}",
          "type": "PROCESSOR"
        },
        "destination": {
          "id": "#{destinationId}",
          "groupId": "#{groupId}",
          "type": "PROCESSOR"
        },
        "selectedRelationships": "#{relationship}"
      }
    }
  },
  {
    "name": "updateScheduleProcessProperty",
    "object": {
      "component": {
        "id": "#{componentId}",
        "name": "#{componentName}",
        "config": {
          "concurrentlySchedulableTaskCount": "1",
          "schedulingPeriod": "#{schedulePeriod}",
          "executionNode": "ALL",
          "penaltyDuration": "30 sec",
          "yieldDuration": "1 sec",
          "bulletinLevel": "WARN",
          "schedulingStrategy": "CRON_DRIVEN",
          "comments": "",
          "runDurationMillis": 0,
          "autoTerminatedRelationships": []
        },
        "state": "STOPPED"
      },
      "revision": {
        "clientId": "",
        "version": "#{version}",
        "disconnectedNodeAcknowledged": false
      }
    }
  },
  {
    "name": "generateFlowFileWithSchedule",
    "object": {
      "component": {
        "id": "#{componentId}",
        "name": "#{componentName}",
        "config": {
          "concurrentlySchedulableTaskCount": "1",
          "schedulingPeriod": "#{schedulePeriod}",
          "executionNode": "ALL",
          "penaltyDuration": "30 sec",
          "yieldDuration": "1 sec",
          "bulletinLevel": "WARN",
          "schedulingStrategy": "CRON_DRIVEN",
          "comments": "",
          "runDurationMillis": 0,
          "autoTerminatedRelationships": []
        },
        "state": "STOPPED"
      },
      "revision": {
        "clientId": "",
        "version": "#{version}"
      },
      "disconnectedNodeAcknowledged": false
    }
  },
  {
    "name": "generateFlowFileWithoutSchedule",
    "object": {
      "component": {
        "id": "#{componentId}",
        "name": "#{componentName}",
        "config": {
          "autoTerminatedRelationships": [
            "original"
          ],
          "schedulingPeriod": "1 day"
        }
      },
      "revision": {
        "clientId": "",
        "version": "#{version}"
      },
      "disconnectedNodeAcknowledged": "False"
    }
  },
  {
    "name": "failedLogMessage",
    "object": {
      "component": {
        "id": "#{componentId}",
        "name": "#{componentName}",
        "config": {
          "autoTerminatedRelationships": [
            "success"
          ],
          "properties": {
            "log-prefix": "error",
            "log-message": "error while executing the ${filename} python code"
          }
        }
      },
      "revision": {
        "clientId": "",
        "version": "#{version}"
      },
      "disconnectedNodeAcknowledged": "false"
    }
  },
  {
    "name": "successLogMessage",
    "object": {
      "component": {
        "id": "#{componentId}",
        "name": "#{componentName}",
        "config": {
          "autoTerminatedRelationships": [
            "success"
          ],
          "properties": {
            "log-prefix": "info",
            "log-message": "succesfully executed the ${filename} python code"
          }
        }
      },
      "revision": {
        "clientId": "",
        "version": "#{version}"
      },
      "disconnectedNodeAcknowledged": "false"
    }
  },
  {
    "name": "pythonCode",
    "object": {
      "component": {
        "id": "#{componentId}",
        "name": "#{componentName}",
        "config": {
          "autoTerminatedRelationships": [
            "original"
          ],
          "properties": {
            "Command Arguments": "#{CommandArguments}",
            "Command Path": "#{CommandPath}",
            "Working Directory": "#{WorkingDirectory}"
          }
        }
      },
      "revision": {
        "clientId": "",
        "version": "#{version}"
      },
      "disconnectedNodeAcknowledged": "False"
    }
  }
]